<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <link href="style.css" type="text/css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Submit Y&Y CashinBank</title>
    <script>
        if ( window.history.replaceState ) {
          window.history.replaceState( null, null, window.location.href );
        }form
    </script>
  </head>
    <body class="main-contents">
      <%- include('partials/nav');%>
        <main class="main-content">
            <h1>Submit form Yong&Yi Cash in Bank</h1><br>
            <div>
                <button type="button" onclick="addBank()">Add Bank</button>
                <button type="button" onclick="removeBank()">Remove Bank</button>
            </div><br>
            <form id="yycurrentassets-form" method="POST" action="/yycurrentassets" enctype="multipart/form-data">
                <div>
                    <label style="margin-bottom: 3px;font-weight: bold;" for="bank">Cash in Bank</label><br>
                    <label class="form_name" for="date">Date</label>
                    <input type="date" name="date"><br>
                    <label class="form_name" for="bank">Which Bank</label>
                    <select type="text" name="bank[]">
                        <option value="">Select a bank</option>
                        <option value="AffinBank">Affin Bank</option>
                        <option value="AgroBank">Agro Bank</option>
                        <option value="Al-RajhiBank">Al-Rajhi Bank</option>
                        <option value="AllianceBank">Alliance Bank</option>
                        <option value="AmBank">Am Bank</option>
                        <option value="Islam">Bank Islam</option>
                        <option value="CIMB">CIMB Bank</option>
                        <option value="HongLeongBank">Hong Leong Bank</option>
                        <option value="HSBCBank">HSBC Bank</option>
                        <option value="Maybank">MayBank</option>
                        <option value="OCBCBank">OCBC Bank</option>
                        <option value="PublicBank">Public Bank</option>
                        <option value="RHBBank">RHB Bank</option>
                        <option value="StandardCharteredBank">Standard Chartered Bank</option>
                        <option value="UOBank">United Overseas Bank</option>
                        <option value="other">Other</option>
                    </select><br>
                    <label  class="form_name" for="amount">Amount</label>
                    <input type="text" name="amount[]"><br>
                </div>
                <br>
                <div id="additional-banks"></div>
                <div style="padding-left: 30px;">
                    <div class="button">
                        <br><button class="form_button" type="submit">Submit</button>
                        <button class="form_button" type="reset">Clear</button>
                    </div>
                </div>
            </form>
            <br>
            <table class="table table-striped" style="width: 90%;">
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Bank</th>
                    <th>Amount</th>
                  </tr>
                </thead>
                <tbody>
                <% data.forEach(function(item){ %>
                    <tr>
                        <td><%= item.formattedDate %></td>
                        <td><%= item.bank %></td>
                        <td><%= item.amount %></td>
                    </tr>
                <% }); %>
                </tbody>
            </table>
            <script>
                var bankCount = 1;
            
                function addBank() {
                    var div = document.createElement("div");
                    div.id = "bank" + bankCount;
                    div.innerHTML = '<label style="margin-bottom: 3px;font-weight: bold;" for="bank">Cash in Bank</label><br>' +
                                    '<label class="form_name" for="bank">Which Bank</label>' +
                                    '<select type="text" name="bank">' +
                                        '<option value="">Select a bank</option>' +
                                        '<option value="AffinBank">Affin Bank</option>' +
                                        '<option value="AgroBank">Agro Bank</option>' +
                                        '<option value="Al-RajhiBank">Al-Rajhi Bank</option>' +
                                        '<option value="AllianceBank">Alliance Bank</option>' +
                                        '<option value="AmBank">Am Bank</option>' +
                                        '<option value="Islam">Bank Islam</option>' +
                                        '<option value="CIMB">CIMB Bank</option>' +
                                        '<option value="HongLeongBank">Hong Leong Bank</option>' +
                                        '<option value="HSBCBank">HSBC Bank</option>' +
                                        '<option value="Maybank">MayBank</option>' +
                                        '<option value="OCBCBank">OCBC Bank</option>' +
                                        '<option value="PublicBank">Public Bank</option>' +
                                        '<option value="RHBBank">RHB Bank</option>' +
                                        '<option value="StandardCharteredBank">Standard Chartered Bank</option>' +
                                        '<option value="UOBank">United Overseas Bank</option>' +
                                        '<option value="other">Other</option>' +
                                    '</select><br>' +
                                    '<label  class="form_name" for="amount">Amount</label>' +
                                    '<input type="text" name="amount"><br><br>';
                    document.getElementById("additional-banks").appendChild(div);
                    bankCount++; 
                }
            
                function removeBank() {
                    if (bankCount > 1) { 
                        var div = document.getElementById("bank" + (bankCount - 1));
                        div.parentNode.removeChild(div);
                        bankCount--;
                    }
                }
            </script>
        </main>
    </body>  
</html>